{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pojoj\\\\Documents\\\\CIS350APP\\\\naurrrwhalsAppDeployment\\\\naur-app\\\\src\\\\components\\\\Task.js\",\n    _s = $RefreshSig$();\n\nimport { React, forwardRef, useState } from 'react'; // useState\n\nimport '../assets/Taskview.css';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { dateToStringLocal, stringToDateLocal } from '../modules/timeFuncs';\nimport { putTask, deleteTask, getTaskList } from '../modules/taskApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction rankOf(task) {\n  return parseInt((task === null || task === void 0 ? void 0 : task.notes) || '0', 10) || 0;\n}\n\nfunction Task(_ref) {\n  _s();\n\n  let {\n    task,\n    sortFunc,\n    username,\n    setTaskList\n  } = _ref;\n  const [isInput, setIsInput] = useState(false);\n\n  async function readTasks() {\n    setTaskList(sortFunc.current(await getTaskList(username)));\n  }\n\n  async function updateTasks(newTask) {\n    await putTask(username, newTask.task_id, newTask);\n    readTasks();\n  }\n\n  function rankUp() {\n    const newTask = { ...task\n    };\n\n    if (!(newTask !== null && newTask !== void 0 && newTask.task_id)) {\n      return;\n    }\n\n    newTask.notes = `${rankOf(newTask) + 1}`;\n    updateTasks(newTask);\n  }\n\n  function titleChange() {\n    var _document$getElementB;\n\n    const newTitle = (_document$getElementB = document.getElementById('editTaskName')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.value;\n\n    if (!newTitle || !(newTitle !== null && newTitle !== void 0 && newTitle.length)) {\n      setIsInput(false);\n      return;\n    }\n\n    const newTask = { ...task\n    };\n\n    if (!(newTask !== null && newTask !== void 0 && newTask.task_id)) {\n      setIsInput(false);\n      return;\n    }\n\n    newTask.title = newTitle;\n    updateTasks(newTask);\n    setIsInput(false);\n  }\n\n  function dateChange(newDate) {\n    const newTask = { ...task\n    };\n\n    if (!(newTask !== null && newTask !== void 0 && newTask.task_id)) {\n      return;\n    }\n\n    newTask.due_date = dateToStringLocal(newDate);\n    updateTasks(newTask);\n  }\n\n  function remove() {\n    if (!(task !== null && task !== void 0 && task.task_id)) {\n      return;\n    }\n\n    deleteTask(username, task.task_id);\n    readTasks();\n  }\n\n  const ExampleCustomInput = /*#__PURE__*/forwardRef((_ref2, ref) => {\n    let {\n      value,\n      onClick\n    } = _ref2;\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      style: {\n        width: '10%',\n        float: 'right'\n      },\n      className: \"example-custom-input\",\n      onClick: onClick,\n      ref: ref,\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }, this);\n  });\n\n  if (!isInput) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-grp\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: () => remove(task),\n        style: {\n          width: '10%'\n        },\n        children: \"complete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        id: \"rank-btn\",\n        onClick: () => rankUp(),\n        style: {\n          width: '10%'\n        },\n        children: [\"rank:\", ' ', rankOf(task)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"taskButton\",\n        onClick: () => setIsInput(!isInput),\n        style: {\n          width: '50%'\n        },\n        children: task.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n        style: {\n          width: '10%'\n        },\n        selected: stringToDateLocal(task.due_date),\n        onChange: newDate => dateChange(newDate),\n        customInput: /*#__PURE__*/_jsxDEV(ExampleCustomInput, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"btn-grp\",\n    id: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      onClick: () => remove(task),\n      children: \"complete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      onClick: () => rankUp(),\n      style: {\n        width: '8%'\n      },\n      children: [\"rank:\", ' ', rankOf(task)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"editTaskName\",\n      placeholder: task.title,\n      style: {\n        width: '40%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      onClick: () => {\n        titleChange();\n      },\n      style: {\n        width: '10%'\n      },\n      children: \"update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n      style: {\n        width: '10%'\n      },\n      selected: stringToDateLocal(task.due_date),\n      onChange: newDate => dateChange(newDate),\n      customInput: /*#__PURE__*/_jsxDEV(ExampleCustomInput, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Task, \"lbuZzijTlZnfkw131es5TvSJZm4=\");\n\n_c = Task;\nexport default Task;\n\nvar _c;\n\n$RefreshReg$(_c, \"Task\");","map":{"version":3,"sources":["C:/Users/pojoj/Documents/CIS350APP/naurrrwhalsAppDeployment/naur-app/src/components/Task.js"],"names":["React","forwardRef","useState","DatePicker","dateToStringLocal","stringToDateLocal","putTask","deleteTask","getTaskList","rankOf","task","parseInt","notes","Task","sortFunc","username","setTaskList","isInput","setIsInput","readTasks","current","updateTasks","newTask","task_id","rankUp","titleChange","newTitle","document","getElementById","value","length","title","dateChange","newDate","due_date","remove","ExampleCustomInput","ref","onClick","width","float"],"mappings":"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","sourcesContent":["import { React, forwardRef, useState } from 'react'; // useState\r\nimport '../assets/Taskview.css';\r\n\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\nimport { dateToStringLocal, stringToDateLocal } from '../modules/timeFuncs';\r\nimport { putTask, deleteTask, getTaskList } from '../modules/taskApi';\r\n\r\nfunction rankOf(task) {\r\n  return parseInt(task?.notes || '0', 10) || 0;\r\n}\r\n\r\nfunction Task({\r\n  task, sortFunc, username, setTaskList,\r\n}) {\r\n  const [isInput, setIsInput] = useState(false);\r\n\r\n  async function readTasks() {\r\n    setTaskList(sortFunc.current(await getTaskList(username)));\r\n  }\r\n\r\n  async function updateTasks(newTask) {\r\n    await putTask(username, newTask.task_id, newTask);\r\n    readTasks();\r\n  }\r\n\r\n  function rankUp() {\r\n    const newTask = { ...task };\r\n    if (!newTask?.task_id) {\r\n      return;\r\n    }\r\n    newTask.notes = `${rankOf(newTask) + 1}`;\r\n    updateTasks(newTask);\r\n  }\r\n\r\n  function titleChange() {\r\n    const newTitle = document.getElementById('editTaskName')?.value;\r\n    if (!newTitle || !newTitle?.length) {\r\n      setIsInput(false);\r\n      return;\r\n    }\r\n    const newTask = { ...task };\r\n    if (!newTask?.task_id) {\r\n      setIsInput(false);\r\n      return;\r\n    }\r\n    newTask.title = newTitle;\r\n    updateTasks(newTask);\r\n    setIsInput(false);\r\n  }\r\n\r\n  function dateChange(newDate) {\r\n    const newTask = { ...task };\r\n    if (!newTask?.task_id) {\r\n      return;\r\n    }\r\n    newTask.due_date = dateToStringLocal(newDate);\r\n    updateTasks(newTask);\r\n  }\r\n\r\n  function remove() {\r\n    if (!task?.task_id) {\r\n      return;\r\n    }\r\n    deleteTask(username, task.task_id);\r\n    readTasks();\r\n  }\r\n\r\n  const ExampleCustomInput = forwardRef(({ value, onClick }, ref) => (\r\n    <button type=\"submit\" style={{ width: '10%', float: 'right' }} className=\"example-custom-input\" onClick={onClick} ref={ref}>\r\n      {value}\r\n    </button>\r\n  ));\r\n\r\n  if (!isInput) {\r\n    return (\r\n      <div className=\"btn-grp\">\r\n        <button\r\n          type=\"submit\"\r\n          onClick={() => remove(task)}\r\n          style={{ width: '10%' }}\r\n        >\r\n          complete\r\n        </button>\r\n        <button type=\"submit\" id=\"rank-btn\" onClick={() => rankUp()} style={{ width: '10%' }}>\r\n          rank:\r\n          {' '}\r\n          {rankOf(task)}\r\n        </button>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"taskButton\"\r\n          onClick={() => setIsInput(!isInput)}\r\n          style={{ width: '50%' }}\r\n        >\r\n          { task.title }\r\n        </button>\r\n        <DatePicker\r\n          style={{ width: '10%' }}\r\n          selected={stringToDateLocal(task.due_date)}\r\n          onChange={(newDate) => dateChange(newDate)}\r\n          customInput={<ExampleCustomInput />}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"btn-grp\" id=\"container\">\r\n      <button type=\"submit\" onClick={() => remove(task)}>\r\n        complete\r\n      </button>\r\n      <button type=\"submit\" onClick={() => rankUp()} style={{ width: '8%' }}>\r\n        rank:\r\n        {' '}\r\n        {rankOf(task)}\r\n      </button>\r\n      <input\r\n        type=\"text\"\r\n        id=\"editTaskName\"\r\n        placeholder={task.title}\r\n        style={{ width: '40%' }}\r\n      />\r\n      <button\r\n        type=\"submit\"\r\n        onClick={() => { titleChange(); }}\r\n        style={{ width: '10%' }}\r\n      >\r\n        update\r\n      </button>\r\n      <DatePicker\r\n        style={{ width: '10%' }}\r\n        selected={stringToDateLocal(task.due_date)}\r\n        onChange={(newDate) => dateChange(newDate)}\r\n        customInput={<ExampleCustomInput />}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Task;\r\n"]},"metadata":{},"sourceType":"module"}