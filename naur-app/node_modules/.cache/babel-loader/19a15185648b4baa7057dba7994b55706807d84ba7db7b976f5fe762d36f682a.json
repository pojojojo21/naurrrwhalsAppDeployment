{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pojoj\\\\Documents\\\\CIS350APP\\\\naurrrwhalsAppDeployment\\\\naur-app\\\\src\\\\components\\\\TaskHolder.js\",\n  _s = $RefreshSig$();\nimport { React, useRef, useState } from 'react'; // useState\nimport Task from './Task';\nimport '../assets/Taskview.css';\nimport { postNewTask, getTaskList } from '../modules/taskApi';\nimport { dateToStringLocal } from '../modules/timeFuncs';\n\n// on passing functions to child and back up:\n// https://stackoverflow.com/questions/38394015/how-to-pass-data-from-child-component-to-its-parent-in-reactjs\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction rankOf(task) {\n  return parseInt((task === null || task === void 0 ? void 0 : task.notes) || '0', 10) || 0;\n}\nfunction noSorter(arr) {\n  return arr;\n}\nfunction alphaSorter(arr) {\n  return arr.sort((a, b) => {\n    if (a.title < b.title) {\n      return -1;\n    }\n    if (a.title > b.title) {\n      return 1;\n    }\n    return 0;\n  });\n}\nfunction dateSorter(arr) {\n  return arr.sort((a, b) => {\n    if (a.due_date < b.due_date) {\n      return -1;\n    }\n    if (a.due_date > b.due_date) {\n      return 1;\n    }\n    return 0;\n  });\n}\nfunction rankSorter(arr) {\n  return arr.sort((a, b) => {\n    if (rankOf(a) < rankOf(b)) {\n      return 1;\n    }\n    if (rankOf(a) > rankOf(b)) {\n      return -1;\n    }\n    return 0;\n  });\n}\nfunction TaskView(_ref) {\n  _s();\n  let {\n    username\n  } = _ref;\n  const sortFunc = useRef(noSorter);\n  const [taskList, setTaskList] = useState([]);\n  const gotList = useRef(false);\n  if (!gotList.current) {\n    gotList.current = true;\n    (async () => {\n      setTaskList(sortFunc.current(await getTaskList(username)));\n    })();\n  }\n  function handleAdd(e) {\n    var _document$getElementB;\n    e.preventDefault();\n    const title = (_document$getElementB = document.getElementById('newTask')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.value;\n    if (!title || !(title !== null && title !== void 0 && title.length)) {\n      return;\n    }\n    const date = dateToStringLocal(new Date());\n    const rank = 0;\n    const newTask = {\n      title,\n      due_date: date,\n      notes: `${rank}`\n    };\n    (async () => {\n      await postNewTask(username, newTask);\n      setTaskList(sortFunc.current(await getTaskList(username)));\n    })();\n  }\n  function setSorter(sorter) {\n    sortFunc.current = sorter;\n    (async () => {\n      setTaskList(sortFunc.current(await getTaskList(username)));\n    })();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"taskView\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Here are your things!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"task-body\",\n      id: \"parent\",\n      children: taskList.map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Task, {\n          task: task,\n          sortFunc: sortFunc,\n          setTaskList: setTaskList,\n          username: username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this)\n      }, `${task.task_id}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"newTask\",\n          placeholder: \"New task name here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"taskButton\",\n          onClick: () => {\n            setSorter(alphaSorter);\n          },\n          children: \"Sort by Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"taskButton\",\n          onClick: handleAdd,\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"taskButton\",\n          onClick: () => {\n            setSorter(rankSorter);\n          },\n          children: \"Sort by Rank\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"taskButton\",\n          onClick: () => {\n            setSorter(dateSorter);\n          },\n          children: \"Sort by Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"taskButton\",\n          onClick: () => {\n            setSorter(noSorter);\n          },\n          children: \"Don't Sort\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n_s(TaskView, \"h9QHBj1r7Jv/zYyLHj2t3Vn6Y6E=\");\n_c = TaskView;\nexport default TaskView;\nvar _c;\n$RefreshReg$(_c, \"TaskView\");","map":{"version":3,"names":["React","useRef","useState","Task","postNewTask","getTaskList","dateToStringLocal","rankOf","task","parseInt","notes","noSorter","arr","alphaSorter","sort","a","b","title","dateSorter","due_date","rankSorter","TaskView","username","sortFunc","taskList","setTaskList","gotList","current","handleAdd","e","preventDefault","document","getElementById","value","length","date","Date","rank","newTask","setSorter","sorter","map","task_id"],"sources":["C:/Users/pojoj/Documents/CIS350APP/naurrrwhalsAppDeployment/naur-app/src/components/TaskHolder.js"],"sourcesContent":["import { React, useRef, useState } from 'react'; // useState\r\nimport Task from './Task';\r\nimport '../assets/Taskview.css';\r\nimport {\r\n  postNewTask, getTaskList,\r\n} from '../modules/taskApi';\r\nimport { dateToStringLocal } from '../modules/timeFuncs';\r\n\r\n// on passing functions to child and back up:\r\n// https://stackoverflow.com/questions/38394015/how-to-pass-data-from-child-component-to-its-parent-in-reactjs\r\n\r\nfunction rankOf(task) {\r\n  return parseInt(task?.notes || '0', 10) || 0;\r\n}\r\n\r\nfunction noSorter(arr) {\r\n  return arr;\r\n}\r\n\r\nfunction alphaSorter(arr) {\r\n  return arr.sort((a, b) => {\r\n    if (a.title < b.title) {\r\n      return -1;\r\n    } if (a.title > b.title) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n}\r\n\r\nfunction dateSorter(arr) {\r\n  return arr.sort((a, b) => {\r\n    if (a.due_date < b.due_date) {\r\n      return -1;\r\n    } if (a.due_date > b.due_date) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n}\r\n\r\nfunction rankSorter(arr) {\r\n  return arr.sort((a, b) => {\r\n    if (rankOf(a) < rankOf(b)) {\r\n      return 1;\r\n    } if (rankOf(a) > rankOf(b)) {\r\n      return -1;\r\n    }\r\n    return 0;\r\n  });\r\n}\r\n\r\nfunction TaskView({ username }) {\r\n  const sortFunc = useRef(noSorter);\r\n  const [taskList, setTaskList] = useState([]);\r\n  const gotList = useRef(false);\r\n\r\n  if (!gotList.current) {\r\n    gotList.current = true;\r\n    (async () => {\r\n      setTaskList(sortFunc.current(await getTaskList(username)));\r\n    })();\r\n  }\r\n\r\n  function handleAdd(e) {\r\n    e.preventDefault();\r\n    const title = document.getElementById('newTask')?.value;\r\n    if ((!title) || (!title?.length)) {\r\n      return;\r\n    }\r\n    const date = dateToStringLocal(new Date());\r\n    const rank = 0;\r\n    const newTask = {\r\n      title,\r\n      due_date: date,\r\n      notes: `${rank}`,\r\n    };\r\n    (async () => {\r\n      await postNewTask(username, newTask);\r\n      setTaskList(sortFunc.current(await getTaskList(username)));\r\n    })();\r\n  }\r\n\r\n  function setSorter(sorter) {\r\n    sortFunc.current = sorter;\r\n    (async () => {\r\n      setTaskList(sortFunc.current(await getTaskList(username)));\r\n    })();\r\n  }\r\n\r\n  return (\r\n    <div className=\"taskView\">\r\n      <header>\r\n        <h1>Here are your things!</h1>\r\n      </header>\r\n      <div className=\"task-body\" id=\"parent\">\r\n        {taskList.map((task) => (\r\n          <div key={`${task.task_id}`}>\r\n            <Task\r\n              task={task}\r\n              sortFunc={sortFunc}\r\n              setTaskList={setTaskList}\r\n              username={username}\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <footer>\r\n        <form>\r\n          <input type=\"text\" id=\"newTask\" placeholder=\"New task name here\" />\r\n        </form>\r\n        <div>\r\n          <button type=\"submit\" className=\"taskButton\" onClick={() => { setSorter(alphaSorter); }}>Sort by Name</button>\r\n          <button type=\"submit\" className=\"taskButton\" onClick={handleAdd}>Add</button>\r\n          <button type=\"submit\" className=\"taskButton\" onClick={() => { setSorter(rankSorter); }}>Sort by Rank</button>\r\n          <br />\r\n          <button type=\"submit\" className=\"taskButton\" onClick={() => { setSorter(dateSorter); }}>Sort by Date</button>\r\n          <button type=\"submit\" className=\"taskButton\" onClick={() => { setSorter(noSorter); }}>Don&apos;t Sort</button>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default TaskView;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}