{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pojoj\\\\Documents\\\\CIS350APP\\\\naurrrwhalsAppDeployment\\\\naur-app\\\\src\\\\components\\\\Task.js\",\n  _s = $RefreshSig$();\nimport { React, forwardRef, useState } from 'react'; // useState\nimport '../assets/Taskview.css';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { dateToStringLocal, stringToDateLocal } from '../modules/timeFuncs';\nimport { putTask, deleteTask, getTaskList } from '../modules/taskApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction rankOf(task) {\n  return parseInt((task === null || task === void 0 ? void 0 : task.notes) || '0', 10) || 0;\n}\nfunction Task(_ref) {\n  _s();\n  let {\n    task,\n    sortFunc,\n    username,\n    setTaskList\n  } = _ref;\n  const [isInput, setIsInput] = useState(false);\n  async function readTasks() {\n    setTaskList(sortFunc.current(await getTaskList(username)));\n  }\n  async function updateTasks(newTask) {\n    await putTask(username, newTask.task_id, newTask);\n    readTasks();\n  }\n  function rankUp() {\n    const newTask = {\n      ...task\n    };\n    if (!(newTask !== null && newTask !== void 0 && newTask.task_id)) {\n      return;\n    }\n    newTask.notes = `${rankOf(newTask) + 1}`;\n    updateTasks(newTask);\n  }\n  function titleChange() {\n    var _document$getElementB;\n    const newTitle = (_document$getElementB = document.getElementById('editTaskName')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.value;\n    if (!newTitle || !(newTitle !== null && newTitle !== void 0 && newTitle.length)) {\n      setIsInput(false);\n      return;\n    }\n    const newTask = {\n      ...task\n    };\n    if (!(newTask !== null && newTask !== void 0 && newTask.task_id)) {\n      setIsInput(false);\n      return;\n    }\n    newTask.title = newTitle;\n    updateTasks(newTask);\n    setIsInput(false);\n  }\n  function dateChange(newDate) {\n    const newTask = {\n      ...task\n    };\n    if (!(newTask !== null && newTask !== void 0 && newTask.task_id)) {\n      return;\n    }\n    newTask.due_date = dateToStringLocal(newDate);\n    updateTasks(newTask);\n  }\n  function remove() {\n    if (!(task !== null && task !== void 0 && task.task_id)) {\n      return;\n    }\n    deleteTask(username, task.task_id);\n    readTasks();\n  }\n  const ExampleCustomInput = /*#__PURE__*/forwardRef((_ref2, ref) => {\n    let {\n      value,\n      onClick\n    } = _ref2;\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      style: {\n        width: '10%',\n        float: 'right'\n      },\n      className: \"example-custom-input\",\n      onClick: onClick,\n      ref: ref,\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }, this);\n  });\n  if (!isInput) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-grp\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: () => remove(task),\n        style: {\n          width: '10%'\n        },\n        children: \"complete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        id: \"rank-btn\",\n        onClick: () => rankUp(),\n        style: {\n          width: '10%'\n        },\n        children: [\"rank:\", ' ', rankOf(task)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"taskButton\",\n        onClick: () => setIsInput(!isInput),\n        style: {\n          width: '50%'\n        },\n        children: task.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n        style: {\n          width: '10%'\n        },\n        selected: stringToDateLocal(task.due_date),\n        onChange: newDate => dateChange(newDate),\n        customInput: /*#__PURE__*/_jsxDEV(ExampleCustomInput, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"btn-grp\",\n    id: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      onClick: () => remove(task),\n      children: \"complete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      onClick: () => rankUp(),\n      style: {\n        width: '8%'\n      },\n      children: [\"rank:\", ' ', rankOf(task)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"editTaskName\",\n      placeholder: task.title,\n      style: {\n        width: '40%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      onClick: () => {\n        titleChange();\n      },\n      style: {\n        width: '10%'\n      },\n      children: \"update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n      style: {\n        width: '10%'\n      },\n      selected: stringToDateLocal(task.due_date),\n      onChange: newDate => dateChange(newDate),\n      customInput: /*#__PURE__*/_jsxDEV(ExampleCustomInput, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_s(Task, \"lbuZzijTlZnfkw131es5TvSJZm4=\");\n_c = Task;\nexport default Task;\nvar _c;\n$RefreshReg$(_c, \"Task\");","map":{"version":3,"names":["React","forwardRef","useState","DatePicker","dateToStringLocal","stringToDateLocal","putTask","deleteTask","getTaskList","rankOf","task","parseInt","notes","Task","sortFunc","username","setTaskList","isInput","setIsInput","readTasks","current","updateTasks","newTask","task_id","rankUp","titleChange","newTitle","document","getElementById","value","length","title","dateChange","newDate","due_date","remove","ExampleCustomInput","ref","onClick","width","float"],"sources":["C:/Users/pojoj/Documents/CIS350APP/naurrrwhalsAppDeployment/naur-app/src/components/Task.js"],"sourcesContent":["import { React, forwardRef, useState } from 'react'; // useState\r\nimport '../assets/Taskview.css';\r\n\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\nimport { dateToStringLocal, stringToDateLocal } from '../modules/timeFuncs';\r\nimport { putTask, deleteTask, getTaskList } from '../modules/taskApi';\r\n\r\nfunction rankOf(task) {\r\n  return parseInt(task?.notes || '0', 10) || 0;\r\n}\r\n\r\nfunction Task({\r\n  task, sortFunc, username, setTaskList,\r\n}) {\r\n  const [isInput, setIsInput] = useState(false);\r\n\r\n  async function readTasks() {\r\n    setTaskList(sortFunc.current(await getTaskList(username)));\r\n  }\r\n\r\n  async function updateTasks(newTask) {\r\n    await putTask(username, newTask.task_id, newTask);\r\n    readTasks();\r\n  }\r\n\r\n  function rankUp() {\r\n    const newTask = { ...task };\r\n    if (!newTask?.task_id) {\r\n      return;\r\n    }\r\n    newTask.notes = `${rankOf(newTask) + 1}`;\r\n    updateTasks(newTask);\r\n  }\r\n\r\n  function titleChange() {\r\n    const newTitle = document.getElementById('editTaskName')?.value;\r\n    if (!newTitle || !newTitle?.length) {\r\n      setIsInput(false);\r\n      return;\r\n    }\r\n    const newTask = { ...task };\r\n    if (!newTask?.task_id) {\r\n      setIsInput(false);\r\n      return;\r\n    }\r\n    newTask.title = newTitle;\r\n    updateTasks(newTask);\r\n    setIsInput(false);\r\n  }\r\n\r\n  function dateChange(newDate) {\r\n    const newTask = { ...task };\r\n    if (!newTask?.task_id) {\r\n      return;\r\n    }\r\n    newTask.due_date = dateToStringLocal(newDate);\r\n    updateTasks(newTask);\r\n  }\r\n\r\n  function remove() {\r\n    if (!task?.task_id) {\r\n      return;\r\n    }\r\n    deleteTask(username, task.task_id);\r\n    readTasks();\r\n  }\r\n\r\n  const ExampleCustomInput = forwardRef(({ value, onClick }, ref) => (\r\n    <button type=\"submit\" style={{ width: '10%', float: 'right' }} className=\"example-custom-input\" onClick={onClick} ref={ref}>\r\n      {value}\r\n    </button>\r\n  ));\r\n\r\n  if (!isInput) {\r\n    return (\r\n      <div className=\"btn-grp\">\r\n        <button\r\n          type=\"submit\"\r\n          onClick={() => remove(task)}\r\n          style={{ width: '10%' }}\r\n        >\r\n          complete\r\n        </button>\r\n        <button type=\"submit\" id=\"rank-btn\" onClick={() => rankUp()} style={{ width: '10%' }}>\r\n          rank:\r\n          {' '}\r\n          {rankOf(task)}\r\n        </button>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"taskButton\"\r\n          onClick={() => setIsInput(!isInput)}\r\n          style={{ width: '50%' }}\r\n        >\r\n          { task.title }\r\n        </button>\r\n        <DatePicker\r\n          style={{ width: '10%' }}\r\n          selected={stringToDateLocal(task.due_date)}\r\n          onChange={(newDate) => dateChange(newDate)}\r\n          customInput={<ExampleCustomInput />}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"btn-grp\" id=\"container\">\r\n      <button type=\"submit\" onClick={() => remove(task)}>\r\n        complete\r\n      </button>\r\n      <button type=\"submit\" onClick={() => rankUp()} style={{ width: '8%' }}>\r\n        rank:\r\n        {' '}\r\n        {rankOf(task)}\r\n      </button>\r\n      <input\r\n        type=\"text\"\r\n        id=\"editTaskName\"\r\n        placeholder={task.title}\r\n        style={{ width: '40%' }}\r\n      />\r\n      <button\r\n        type=\"submit\"\r\n        onClick={() => { titleChange(); }}\r\n        style={{ width: '10%' }}\r\n      >\r\n        update\r\n      </button>\r\n      <DatePicker\r\n        style={{ width: '10%' }}\r\n        selected={stringToDateLocal(task.due_date)}\r\n        onChange={(newDate) => dateChange(newDate)}\r\n        customInput={<ExampleCustomInput />}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Task;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}