{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pojoj\\\\Documents\\\\CIS350APP\\\\naurrrwhalsAppDeployment\\\\naur-app\\\\src\\\\components\\\\AddFriendDisplay.js\",\n  _s = $RefreshSig$();\nimport { React, useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { getUserExists, getFriendExists, getPendingExists, sendFriendRequest } from '../modules/messageApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddFriendDisplay(_ref) {\n  _s();\n  let {\n    username\n  } = _ref;\n  const [pressedAdd, setPressedAdd] = useState(false);\n  const [isUser, setIsUser] = useState(false);\n  const [sentRequest, setSentRequest] = useState(false);\n  const [alreadyExists, setAlreadyExists] = useState(false);\n  const [isSelf, setIsSelf] = useState(false);\n  const friendName = useRef(undefined);\n  function handleInputName(e) {\n    e.preventDefault();\n    friendName.current = e.target.value;\n    setPressedAdd(false);\n    setIsUser(false);\n    setSentRequest(false);\n    setIsSelf(false);\n    setAlreadyExists(false);\n  }\n  function handleSendRequest() {\n    setPressedAdd(true);\n    if (friendName.current === username) {\n      setIsSelf(true);\n      return;\n    }\n    getFriendExists(username, friendName.current).then(friendValue => {\n      if (friendValue) {\n        setAlreadyExists(true);\n        return;\n      }\n      getPendingExists(username, friendName.current).then(pendingValue => {\n        if (pendingValue) {\n          setAlreadyExists(true);\n          return;\n        }\n        getUserExists(friendName.current).then(userValue => {\n          if (!userValue) {\n            return;\n          }\n          setIsUser(true);\n          sendFriendRequest(username, friendName.current).then(() => {\n            setSentRequest(true);\n          });\n        });\n      });\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Add Friend\", /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"enterName\",\n        placeholder: \"Enter name\",\n        onChange: handleInputName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"sendbtn\",\n      onClick: handleSendRequest,\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), pressedAdd && !isUser && !isSelf && !alreadyExists && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Inexistent user\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }, this), sentRequest && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Sent Friend Request\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 24\n    }, this), isSelf && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Cannot send request to self\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }, this), alreadyExists && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Already sent request\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 26\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(AddFriendDisplay, \"ze1vMJ4l4VAqsnnsIY7iNwQsj1A=\");\n_c = AddFriendDisplay;\nAddFriendDisplay.propTypes = {\n  username: PropTypes.string.isRequired\n};\nexport default AddFriendDisplay;\nvar _c;\n$RefreshReg$(_c, \"AddFriendDisplay\");","map":{"version":3,"names":["React","useState","useRef","PropTypes","getUserExists","getFriendExists","getPendingExists","sendFriendRequest","AddFriendDisplay","username","pressedAdd","setPressedAdd","isUser","setIsUser","sentRequest","setSentRequest","alreadyExists","setAlreadyExists","isSelf","setIsSelf","friendName","undefined","handleInputName","e","preventDefault","current","target","value","handleSendRequest","then","friendValue","pendingValue","userValue","propTypes","string","isRequired"],"sources":["C:/Users/pojoj/Documents/CIS350APP/naurrrwhalsAppDeployment/naur-app/src/components/AddFriendDisplay.js"],"sourcesContent":["import {\r\n  React, useState, useRef,\r\n} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  getUserExists, getFriendExists, getPendingExists, sendFriendRequest,\r\n} from '../modules/messageApi';\r\n\r\nfunction AddFriendDisplay({ username }) {\r\n  const [pressedAdd, setPressedAdd] = useState(false);\r\n  const [isUser, setIsUser] = useState(false);\r\n  const [sentRequest, setSentRequest] = useState(false);\r\n  const [alreadyExists, setAlreadyExists] = useState(false);\r\n  const [isSelf, setIsSelf] = useState(false);\r\n\r\n  const friendName = useRef(undefined);\r\n\r\n  function handleInputName(e) {\r\n    e.preventDefault();\r\n    friendName.current = e.target.value;\r\n    setPressedAdd(false);\r\n    setIsUser(false);\r\n    setSentRequest(false);\r\n    setIsSelf(false);\r\n    setAlreadyExists(false);\r\n  }\r\n\r\n  function handleSendRequest() {\r\n    setPressedAdd(true);\r\n    if (friendName.current === username) {\r\n      setIsSelf(true);\r\n      return;\r\n    }\r\n    getFriendExists(username, friendName.current).then((friendValue) => {\r\n      if (friendValue) {\r\n        setAlreadyExists(true);\r\n        return;\r\n      }\r\n      getPendingExists(username, friendName.current).then((pendingValue) => {\r\n        if (pendingValue) {\r\n          setAlreadyExists(true);\r\n          return;\r\n        }\r\n        getUserExists(friendName.current).then((userValue) => {\r\n          if (!userValue) {\r\n            return;\r\n          }\r\n          setIsUser(true);\r\n          sendFriendRequest(username, friendName.current).then(() => {\r\n            setSentRequest(true);\r\n          });\r\n        });\r\n      });\r\n    });\r\n  }\r\n  return (\r\n    <div>\r\n      Add Friend\r\n      <div><input type=\"text\" id=\"enterName\" placeholder=\"Enter name\" onChange={handleInputName} /></div>\r\n      <button type=\"button\" className=\"sendbtn\" onClick={handleSendRequest}>Send</button>\r\n      {pressedAdd && !isUser && !isSelf && !alreadyExists\r\n      && (<div>Inexistent user</div>)}\r\n      {sentRequest && (<div>Sent Friend Request</div>)}\r\n      {isSelf && (<div>Cannot send request to self</div>)}\r\n      {alreadyExists && (<div>Already sent request</div>)}\r\n    </div>\r\n  );\r\n}\r\nAddFriendDisplay.propTypes = {\r\n  username: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default AddFriendDisplay;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}